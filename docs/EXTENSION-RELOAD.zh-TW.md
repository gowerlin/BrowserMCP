# BrowserMCP 擴充功能重新載入指南

## 何時需要重新載入擴充功能

在以下情況下，您需要重新載入 BrowserMCP 擴充功能：

1. **更新擴充功能程式碼後**
2. **看到「擴充功能上下文無效」錯誤時**
3. **擴充功能停止回應時**
4. **Chrome 瀏覽器更新後**

## 如何重新載入擴充功能

### 方法 1：使用 Chrome 擴充功能頁面

1. 開啟 Chrome 並前往 `chrome://extensions/`
2. 在列表中找到「BrowserMCP DevTools 橋接器」
3. 點擊擴充功能卡片上的重新整理圖示 (🔄)
4. 重新整理所有使用擴充功能的頁面

### 方法 2：使用開發者模式

1. 開啟 `chrome://extensions/`
2. 啟用「開發人員模式」（右上角切換開關）
3. 點擊頂部的「更新」按鈕
4. 這將重新載入所有開發者模式的擴充功能

### 方法 3：停用後重新啟用

1. 開啟 `chrome://extensions/`
2. 將擴充功能關閉後再開啟
3. 這會強制完全重新載入

## 重新載入後

重新載入擴充功能後，您必須：

1. **重新整理所有頁面**（使用擴充功能的頁面）
2. **重新連接**到之前連接的分頁
3. **重新套用設定**（如果設定未被保存）

## 常見問題與解決方案

### 「擴充功能上下文無效」錯誤

發生原因：
- 頁面開啟時擴充功能被更新
- Chrome 自動更新了擴充功能
- 擴充功能當機並重新啟動

**解決方案**：重新載入擴充功能並重新整理頁面。

### 「無法建立連接」錯誤

發生原因：
- 內容腳本嘗試連接到舊版本
- 背景腳本未運行

**解決方案**：
1. 重新載入擴充功能
2. 關閉並重新開啟分頁
3. 再次嘗試連接

### 擴充功能圖示未顯示在工具列

如果擴充功能圖示消失：
1. 點擊 Chrome 工具列中的拼圖圖示
2. 找到「BrowserMCP DevTools 橋接器」
3. 點擊釘選圖示以保持可見

## 預防問題

為了減少重新載入的需要：

1. **連接擴充功能前關閉開發者工具**
2. **關閉分頁前正確斷開連接**
3. **保持 Chrome 更新**到最新版本
4. **監控控制台**以獲得早期警告訊號

## 自動復原功能

擴充功能包含一些自動復原功能：

- **自動重連**：連接丟失時嘗試重新連接
- **上下文驗證**：檢查擴充功能上下文是否仍然有效
- **錯誤復原**：提供清晰的錯誤訊息和指示

但是，在某些情況下仍需要手動重新載入。