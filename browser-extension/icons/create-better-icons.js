import fs from 'fs';
import path from 'path';
import { fileURLToPath } from 'url';

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

// Create a proper icon with blue background and white text
// These are base64 encoded PNG images with solid blue background

// 16x16 icon - small, simple "M" on blue background
const icon16 = Buffer.from(
  'iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAADMSURBVDiNY2AYBaNgFAw4YGRkZGBkZPzPyMj4n5GRkYEczczMzP85OTn/c3Jy/mdmZiZLPRsbGwMbGxsDOzs7Azs7OwMrKytZBrCwsDBwcHAwcHBwMHBwcDBwcnIysLCwkGwAMzMzAzc3NwM3NzcDNzc3Azc3NwMzMzPJBjAyMjLw8PAw8PDwMPDw8DDw8vIyMjIykmwAI+l+YGRkZODj42Pg4+Nj4OPjI8sAJjLUM/Dz8zPw8/Mz8PPzk2UAqXr5+fkZ+Pn5yfIDADh1Kws+qQEMAAAAAElFTkSuQmCC',
  'base64'
);

// 32x32 icon - "MCP" text on blue background
const icon32 = Buffer.from(
  'iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAGxSURBVFiFY2CgAmBkZGRgZGT8z8jIyMDIyPifkZGRgVLNzMzM/zk5Of9zcnL+Z2ZmJksjKysrAxsbGwMbGxsDOzs7Azs7OwMrKytJGlhYWBg4ODgYODg4GDg4OBg4OTkZWFhYiNbAzMzMwM3NzcDNzc3Azc3NwM3NzcDMzEy0BkZGRgYeHh4GHh4eBh4eHgZeXl5GRkZGojUwkuIHRkZGBj4+PgY+Pj4GPj4+kgxgIsEsBn5+fgZ+fn4Gfn5+kg1gJEEzPz8/Az8/P1l+IEczCwsLAy8vL4Ovry+Dn58fWQaQopmFhYWBl5eXgY+Pj6I4IEYzCwsLAy8vLwMfHx8DPz8/RQaQYgALCwsDLy8vAx8fHwM/Pz9ZmpnIMICFhYWBl5eXgY+Pj4Gfn58szcT6gYWFhYGXl5eBj4+PgZ+fn2wDCGlmYWFh4OXlZeDj42Pg5+cnK+4JaWZhYWHg5eVl4OPjY+Dn5ydLM77IY2FhYeDl5WXg4+Nj4OfnJ9sAvFGAwMjHx8fAz89PtgGE4oCPj4+Bn5+fbANI1UySZkLxAwBNs2bKUQJqPQAAAABJRU5ErkJggg==',
  'base64'
);

// 48x48 icon - "MCP" with browser icon on blue background
const icon48 = Buffer.from(
  'iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAMdSURBVGiB7ZpNiBNHFMd/1ZNMZjKZzCQmMRvXXRVXRFEQPHjwIHgRPOhBEAQPehAEwYMeBEHw4EEQPHgQBA8eBMGDIHgQBA+C4EEQFERFUXRX3XXXJJPMZJLpru6Xg5PJZHa7O91JNiz0HwZmeqre+/3fe/WqugMWLFiwYMGChX8OxFwKn5+f7/B6vTsNw9gJbAawLOsrgE6nEzUaBQCapgEghEDTNKIoqizLcs7n870E8Pr166k5sT8HQVFUpKnaw8PD3rGxsQPxePxAIpHY7nK5FpjVTyQSAEilUgD4/X4AgsEgAH6/v+Lz+a719PTcGBgYuB+NRgumjVBD0w7E43F7NBrdlUqlDqXT6d1CCMukQdVCkiSGhoZ+BINB+8DAwI3BwcGLkUikaMqQH6HbgXg8bh8fHz+QTCZPpFKpPUIIs5lsFj6f71soFGrr6em50d/ff7Otra1qepW1W9FutzsrlcphXdc3mzJSDX19fS+j0ejl1tbWklnBTAXg9Xq7dF0/Zua+iZibmzvl8Xg2m5HP9CzUarWayTwVCoUC+Xz+ZbFYTBqGYRcSksiy/N7tdrcHAoFlZnRMOaBpmu6wSdR8FIvFb+l0elHTqhpQKpVKOjRcT1yYi8ViIp/PZ8rDUu3nQoj/ASYajRa+fPlyY2Rk5PTQ0JAuSdJSk3rNiRCCVCr1dGRk5PTIyMiNqampj0Y0pjoghKi9EXMgHo/bP378eDKZTJ5KJpPbhRBmU6wuOJ3O9+FwuK2vr+9WX1/ftWAw+KtRnWl1oFgsFjRNA0BV1d8dn8kQQpBMJp8nk8nnQM7tdmcrP6K6PdPhyWQy8dmzZ3u/f/++bteuXVvb29stJ4SwlJaWlqLL5XpVKpVWBIPBza2trWuFEB1CCEmIWr7Uck0ulzv/6tWrT3fu3Nm3evVqp1mNRkGSJBiSRLlc/tjZ2fnLpk2bVhvVMOUAQDabzY2Ojp768OHDhba2Np/dbje70zcdqqpaH4QQLZ2dnT/09/evM6JhugQBFEXJjI2NPXzz5s3zqampMU3T0mb167lP/A8syqaQCXJGOQAAAABJRU5ErkJggg==',
  'base64'
);

// 128x128 icon - Full detailed icon with blue gradient background
const icon128 = Buffer.from(
  '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',
  'base64'
);

// Write the icon files
fs.writeFileSync(path.join(__dirname, 'icon-16.png'), icon16);
fs.writeFileSync(path.join(__dirname, 'icon-32.png'), icon32);
fs.writeFileSync(path.join(__dirname, 'icon-48.png'), icon48);
fs.writeFileSync(path.join(__dirname, 'icon-128.png'), icon128);

console.log('âœ… Better icon files created successfully!');
console.log('Icons saved in:', __dirname);